## ะะฝััะฐะปะตะนัะพะฝ

๐คช Node.js โฅ 10<br>
๐พ MongoDB โฅ 4<br>
๐ป PM2 โฅ 3

```sh
mongod
git clone
npm ci
```

ะะฐะฟัััะธัั ะพะดะฝะพะณะพ ะธะท ัะพะฑะพัะพะฒ ะผะพะถะฝะพ ัะฐะบ:

```sh
node app/api.js
node app/cian-crawler.js
```

ะฅะพัั ะฑะตะท ัะตะบัะตัะพะฒ, ะฝะฐะฒะตัะฝะพะต, ะฝะต ะทะฐะฟัััะธััั ๐ณ.

## ะกัััะบัััะฐ

```sh
.
โโโ .env (๐ฅ ัะตะบัะตัั, ัะผ. ะฟะฐะบะตั dotenv)
โโโ .eslintrc.js
โโโ .gitignore
โโโ README.md
โโโ api (๐ฅ http ัััะบะธ)
โยย โโโ index.js
โโโ app (๐ฅ ะฟัะพัะตััั, ะทะฐะฟััะบะฐัััั ัะตัะตะท pm2)
โยย โโโ api.js
โยย โโโ cian-checker.js
โยย โโโ cian-crawler.js
โยย โโโ digest.js
โยย โโโ realty-checker.js
โยย โโโ realty-crawler.js
โยย โโโ report.js
โโโ config (๐ฅ ะบะพะฝัะธะณััะฐัะธั ะดะปั ัะฐะทะฝัั ะพะบััะถะตะฝะธะน)
โยย โโโ default.js
โยย โโโ production.js
โโโ ecosystem.config.js (๐ฅ ะบะพะฝัะธะณ ะดะปั PM2, ะดะตะฟะปะพะน/ะทะฐะฟััะบ)
โโโ lib (๐ฅ ะพัะฝะพะฒะฝะพะน ะฝะพะดะพะฒัะน ะบะพะด ะฟัะพะตะบัะฐ)
โยย โโโ bots (๐ฅ ัะพะฑะพัั)
โยย โโโ db (๐ฅ ะผะตัะพะดั ะดะปั ัะฐะฑะพัั ั ะฑะฐะทะพะน)
โยย โโโ fixup
โยย โโโ mordobot.js (๐ฅ ัะตะปะตะณัะฐะผ ะฑะพั)
โยย โโโ utils
โโโ package-lock.json
โโโ package.json
```

## ะะธัะบะปะตะนะผะตั

- ะะฐะทะฒะฐะฝะธะต `mordor` ะดะพะปะณะฐั ะธััะพัะธั
- ะั ะะธััะฐะฑะฐ ะฝัะถะฝั ัะพะปัะบะพ ัะพััะธะฝะณ + ัะตะฒะธะทะธะธ, ัะฐะบ ััะพ ะบะพะผะผะธั ะผะตัะฐะดะถะธ ะฝะต ัะผะพััะตัั ๐ณ

## ะะตะฟะปะพะน

ะะตัะตะด ะดะตะฟะปะพะตะผ ะพะฑัะทะฐัะตะปัะฝะพ ะฒัะต ะทะฐะฟััะธัั, ะทะฐัะตะผ:

```sh
pm2 deploy production update
```

ะะพะดัะพะฑะฝะตะต: https://pm2.io/doc/en/runtime/guide/easy-deploy-with-ssh/

## ะะตัะตะฟัั

ะะฑะฝะพะฒะธัั `.env`

```sh
scp .env ddml@host:~
```

## ะัะดะถะธะบ

1. ะะฐะบะตั `node-gyp` ััะตะฑัะตั Python 2.7.
   **ะะตัะตะฝะธะต**:

```js
npm config set python '/usr/bin/python2.7'
```

2. PM2 ะธัะฟะพะปัะทัะตั ะฝะตะธะฝัะตัะฐะบัะธะฒะฝัะน ัะตะป ะดะปั ะดะตะฟะปะพั, ะฟะพััะพะผั ัััะพัะบะธ ะฟัะพ ะฟะพะดะบะปััะตะฝะธะต nvm ะฝะฐัะพะดัััั ะฒ ัะฐะผะพะผ ะฒะตััั `.bashrc` ะดะพ ะฟัะพะฒะตัะบะธ ะฟัะพ ะธะฝัะตัะฐะบัะธะฒะฝะพััั.
